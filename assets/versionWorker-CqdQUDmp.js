!function(){"use strict";let e=null,n=6e4,t=null,s="/";function o(){t&&r(),i(),t=setInterval(i,n)}function r(){t&&(clearInterval(t),t=null)}function i(){const n=s+"assets/version.json?t="+(new Date).getTime();fetch(n).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((n=>{e&&n.version&&n.version!==e?(self.postMessage({type:"update",oldVersion:e,newVersion:n.version,versionContent:n.versionContent||""}),e=n.version):!e&&n.version&&(e=n.version)})).catch((e=>{self.postMessage({type:"error",message:e.message})}))}self.addEventListener("message",(function(i){const a=i.data;"start"===a.type?(e=a.currentVersion,a.interval&&(n=a.interval),s=a.pathname,o()):"stop"===a.type?r():"setInterval"===a.type&&(n=a.interval,t&&(r(),o()))}))}();
